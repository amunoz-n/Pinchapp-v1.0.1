<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PinchApp - Red social para mecheros viajeros</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .map-container {
            height: 300px;
            width: 100%;
            background-color: #e5e7eb;
            position: relative;
            overflow: hidden;
        }
        
        .map-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: #6b7280;
        }
        
        .qr-scanner {
            width: 250px;
            height: 250px;
            margin: 20px auto;
            border: 3px dashed #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .qr-overlay {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .story-card {
            transition: all 0.3s ease;
        }
        
        .story-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Permisos iniciales -->
    <div id="permissionsModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-md mx-4">
            <div class="text-center mb-6">
                <i class="fas fa-fire text-4xl text-red-500 mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800">Bienvenido a PinchApp</h2>
                <p class="text-gray-600 mt-2">Para disfrutar de todas las funciones, necesitamos algunos permisos:</p>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-center">
                    <i class="fas fa-camera text-blue-500 text-xl mr-3"></i>
                    <div>
                        <p class="font-medium">Cámara</p>
                        <p class="text-sm text-gray-500">Para escanear códigos QR y tomar fotos</p>
                    </div>
                </div>
                
                <div class="flex items-center">
                    <i class="fas fa-map-marker-alt text-green-500 text-xl mr-3"></i>
                    <div>
                        <p class="font-medium">Ubicación</p>
                        <p class="text-sm text-gray-500">Para registrar dónde ha estado tu mechero</p>
                    </div>
                </div>
                
                <div class="flex items-center">
                    <i class="fas fa-sd-card text-yellow-500 text-xl mr-3"></i>
                    <div>
                        <p class="font-medium">Almacenamiento</p>
                        <p class="text-sm text-gray-500">Para guardar fotos y datos de tu mechero</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 flex justify-between">
                <button id="denyPermissions" class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700">Denegar</button>
                <button id="grantPermissions" class="px-4 py-2 rounded-lg bg-blue-500 text-white">Aceptar permisos</button>
            </div>
        </div>
    </div>

    <!-- Login/Signup -->
    <div id="authModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 max-w-md mx-4">
            <div class="text-center mb-6">
                <i class="fas fa-fire text-4xl text-red-500 mb-4"></i>
                <h2 class="text-2xl font-bold text-gray-800">Inicia sesión en PinchApp</h2>
            </div>
            
            <div class="space-y-4">
                <button id="googleLogin" class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg">
                    <i class="fab fa-google text-red-500 mr-3"></i>
                    <span>Continuar con Google</span>
                </button>
                
                <div class="flex items-center my-4">
                    <div class="flex-grow border-t border-gray-300"></div>
                    <span class="mx-4 text-gray-500">o</span>
                    <div class="flex-grow border-t border-gray-300"></div>
                </div>
                
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo electrónico</label>
                    <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                </div>
                
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
                    <input type="password" id="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                </div>
                
                <button id="emailLogin" class="w-full px-4 py-3 bg-blue-500 text-white rounded-lg">Iniciar sesión</button>
                
                <p class="text-center text-sm text-gray-500">
                    ¿No tienes cuenta? <button id="switchToSignup" class="text-blue-500">Regístrate</button>
                </p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="pb-16 hidden">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-10">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <i class="fas fa-fire text-red-500 text-2xl mr-2"></i>
                    <h1 class="text-xl font-bold text-gray-800">PinchApp</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="notificationsBtn" class="relative">
                        <i class="fas fa-bell text-gray-600 text-xl"></i>
                        <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                    </button>
                    <button id="profileBtn">
                        <div class="h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium">U</div>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-4">
            <!-- Tab content -->
            <div id="homeTab" class="tab-content active">
                <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-3">Mi mechero viajero</h2>
                    <div class="flex items-center mb-4">
                        <div class="h-16 w-16 rounded-full bg-yellow-100 flex items-center justify-center mr-3">
                            <i class="fas fa-fire text-yellow-500 text-2xl"></i>
                        </div>
                        <div>
                            <p class="font-medium">Mechero #12345</p>
                            <p class="text-sm text-gray-500">Última ubicación: Barcelona, España</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <button id="scanQrBtn" class="bg-blue-50 text-blue-600 rounded-lg p-3 flex flex-col items-center">
                            <i class="fas fa-qrcode text-2xl mb-2"></i>
                            <span class="text-sm font-medium">Escanear QR</span>
                        </button>
                        <button id="viewMapBtn" class="bg-green-50 text-green-600 rounded-lg p-3 flex flex-col items-center">
                            <i class="fas fa-map-marked-alt text-2xl mb-2"></i>
                            <span class="text-sm font-medium">Ver mapa</span>
                        </button>
                        <button id="randomStoryBtn" class="bg-purple-50 text-purple-600 rounded-lg p-3 flex flex-col items-center">
                            <i class="fas fa-random text-2xl mb-2"></i>
                            <span class="text-sm font-medium">Historia aleatoria</span>
                        </button>
                        <button id="travelGuideBtn" class="bg-yellow-50 text-yellow-600 rounded-lg p-3 flex flex-col items-center">
                            <i class="fas fa-umbrella-beach text-2xl mb-2"></i>
                            <span class="text-sm font-medium">Guía del viajero</span>
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <div class="flex justify-between items-center mb-3">
                        <h2 class="text-lg font-semibold text-gray-800">Historias recientes</h2>
                        <button class="text-blue-500 text-sm font-medium">Ver todas</button>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="story-card bg-gray-50 rounded-lg p-3">
                            <div class="flex items-start mb-2">
                                <div class="h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-purple-500"></i>
                                </div>
                                <div>
                                    <p class="font-medium">Carlos M.</p>
                                    <p class="text-xs text-gray-500">Hace 2 horas · París, Francia</p>
                                </div>
                            </div>
                            <p class="text-gray-700 mb-3">"Este mechero ha viajado desde Madrid hasta París en mi mochila. Lo usamos para encender velas en la Torre Eiffel durante un atardecer mágico."</p>
                            <div class="flex justify-between items-center">
                                <div class="flex space-x-4">
                                    <button class="text-gray-500 text-sm flex items-center">
                                        <i class="far fa-heart mr-1"></i> 12
                                    </button>
                                    <button class="text-gray-500 text-sm flex items-center">
                                        <i class="far fa-comment mr-1"></i> 3
                                    </button>
                                </div>
                                <button class="text-blue-500 text-sm font-medium">Ver mapa</button>
                            </div>
                        </div>
                        
                        <div class="story-card bg-gray-50 rounded-lg p-3">
                            <div class="flex items-start mb-2">
                                <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-user text-blue-500"></i>
                                </div>
                                <div>
                                    <p class="font-medium">Ana G.</p>
                                    <p class="text-xs text-gray-500">Ayer · Roma, Italia</p>
                                </div>
                            </div>
                            <p class="text-gray-700 mb-3">"Encontramos este mechero en un pequeño café cerca del Coliseo. Ha estado con nosotros en nuestro viaje por Italia y ha encendido muchos cigarrillos de nuevos amigos."</p>
                            <div class="flex justify-between items-center">
                                <div class="flex space-x-4">
                                    <button class="text-gray-500 text-sm flex items-center">
                                        <i class="far fa-heart mr-1"></i> 24
                                    </button>
                                    <button class="text-gray-500 text-sm flex items-center">
                                        <i class="far fa-comment mr-1"></i> 7
                                    </button>
                                </div>
                                <button class="text-blue-500 text-sm font-medium">Ver mapa</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- QR Scanner Tab -->
            <div id="qrTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Escanear código QR</h2>
                    
                    <div class="qr-scanner">
                        <div class="qr-overlay hidden">
                            <p>Escaneando...</p>
                        </div>
                        <i class="fas fa-qrcode text-6xl text-blue-400"></i>
                    </div>
                    
                    <button id="startScanBtn" class="w-full bg-blue-500 text-white py-3 rounded-lg mb-4">
                        Iniciar escaneo
                    </button>
                    
                    <div id="scanResult" class="hidden">
                        <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-4">
                            <div class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <p class="font-medium">¡Código QR escaneado con éxito!</p>
                            </div>
                            <p class="text-sm text-gray-700 mt-1">Mechero #12345 - Propietario: Usuario Actual</p>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Historia (opcional)</label>
                            <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg" rows="3" placeholder="Cuenta la historia de este mechero en esta ubicación..."></textarea>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Ubicación</label>
                            <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg mb-2" value="Barcelona, España" id="locationInput">
                            <div class="flex items-center">
                                <input type="checkbox" id="useCurrentLocation" class="mr-2">
                                <label for="useCurrentLocation" class="text-sm text-gray-700">Usar mi ubicación actual</label>
                            </div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Foto (opcional)</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                                <i class="fas fa-camera text-gray-400 text-3xl mb-2"></i>
                                <p class="text-gray-500">Toca para tomar una foto</p>
                            </div>
                        </div>
                        
                        <button class="w-full bg-green-500 text-white py-3 rounded-lg">
                            <i class="fas fa-save mr-2"></i> Guardar registro
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Map Tab -->
            <div id="mapTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Ruta de mi mechero</h2>
                    
                    <div class="map-container mb-4">
                        <div class="map-placeholder">
                            <i class="fas fa-map-marked-alt text-4xl mb-2"></i>
                            <p>Mapa de la ruta del mechero</p>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center p-2 border-b border-gray-100">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-map-pin text-blue-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">Madrid, España</p>
                                <p class="text-xs text-gray-500">15 de junio, 2023</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-2 border-b border-gray-100">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-map-pin text-blue-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">París, Francia</p>
                                <p class="text-xs text-gray-500">20 de junio, 2023</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-2 border-b border-gray-100">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-map-pin text-blue-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">Roma, Italia</p>
                                <p class="text-xs text-gray-500">28 de junio, 2023</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center p-2">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-map-pin text-blue-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">Barcelona, España</p>
                                <p class="text-xs text-gray-500">5 de julio, 2023</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Random Story Tab -->
            <div id="randomStoryTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Historia aleatoria</h2>
                    
                    <div class="story-card bg-gray-50 rounded-lg p-4 mb-4">
                        <div class="flex items-start mb-3">
                            <div class="h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                <i class="fas fa-user text-purple-500"></i>
                            </div>
                            <div>
                                <p class="font-medium">Luis H.</p>
                                <p class="text-xs text-gray-500">Berlín, Alemania · 10 de julio, 2023</p>
                            </div>
                        </div>
                        
                        <p class="text-gray-700 mb-4">"Este mechero ha viajado por toda Europa. Lo encontré en un mercado de pulgas en Berlín y desde entonces ha estado conmigo en mis aventuras. Lo más memorable fue cuando lo usamos para encender una fogata en un camping cerca de los Alpes."</p>
                        
                        <div class="mb-4">
                            <div class="map-container">
                                <div class="map-placeholder">
                                    <i class="fas fa-map-marked-alt text-4xl mb-2"></i>
                                    <p>Ruta del mechero #7890</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-4">
                                <button class="text-gray-500 text-sm flex items-center">
                                    <i class="far fa-heart mr-1"></i> 42
                                </button>
                                <button class="text-gray-500 text-sm flex items-center">
                                    <i class="far fa-comment mr-1"></i> 15
                                </button>
                            </div>
                            <button class="text-blue-500 text-sm font-medium">Seguir mechero</button>
                        </div>
                    </div>
                    
                    <button id="newRandomStory" class="w-full bg-purple-500 text-white py-3 rounded-lg flex items-center justify-center">
                        <i class="fas fa-random mr-2"></i> Otra historia aleatoria
                    </button>
                </div>
            </div>
            
            <!-- Travel Guide Tab -->
            <div id="travelGuideTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Guía del viajero</h2>
                    
                    <div class="flex mb-4">
                        <input type="text" placeholder="Buscar ciudad..." class="flex-grow px-4 py-2 border border-gray-300 rounded-l-lg">
                        <button class="bg-blue-500 text-white px-4 py-2 rounded-r-lg">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <div class="flex items-center mb-4">
                        <i class="fas fa-location-arrow text-blue-500 mr-2"></i>
                        <p class="font-medium">Lugares cercanos</p>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="p-3 border border-gray-200 rounded-lg">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-medium">Parque de la Ciudadela</h3>
                                <div class="flex items-center">
                                    <i class="fas fa-star text-yellow-400 mr-1"></i>
                                    <span>4.7</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">"Perfecto para fumar tranquilamente junto al lago. Muchas zonas con bancos y buena sombra."</p>
                            <p class="text-xs text-gray-500">- Por Carlos M.</p>
                        </div>
                        
                        <div class="p-3 border border-gray-200 rounded-lg">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-medium">Terraza del Bunkers</h3>
                                <div class="flex items-center">
                                    <i class="fas fa-star text-yellow-400 mr-1"></i>
                                    <span>4.9</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">"Las mejores vistas de Barcelona para disfrutar de un cigarro al atardecer. Lleva tu propio mechero porque suele haber viento."</p>
                            <p class="text-xs text-gray-500">- Por Ana G.</p>
                        </div>
                        
                        <div class="p-3 border border-gray-200 rounded-lg">
                            <div class="flex justify-between mb-2">
                                <h3 class="font-medium">Bar Marsella</h3>
                                <div class="flex items-center">
                                    <i class="fas fa-star text-yellow-400 mr-1"></i>
                                    <span>4.5</span>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-2">"Bar histórico donde se permite fumar. Ambiente único y absenta para acompañar."</p>
                            <p class="text-xs text-gray-500">- Por Luis H.</p>
                        </div>
                    </div>
                    
                    <button id="addNewPlace" class="w-full mt-4 bg-green-500 text-white py-3 rounded-lg flex items-center justify-center">
                        <i class="fas fa-plus mr-2"></i> Añadir nuevo lugar
                    </button>
                </div>
            </div>
            
            <!-- Museum Tab -->
            <div id="museumTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Museo del mechero</h2>
                    
                    <div class="mb-6">
                        <div class="relative pb-[56.25%] bg-black rounded-lg mb-2">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-play text-white text-4xl"></i>
                            </div>
                        </div>
                        <h3 class="font-medium">Concurso de mecheros 2023</h3>
                        <p class="text-sm text-gray-500">15,342 visualizaciones · Hace 1 semana</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-3 mb-4">
                        <div>
                            <div class="relative pb-[100%] bg-gray-200 rounded-lg mb-1">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-image text-gray-400 text-2xl"></i>
                                </div>
                            </div>
                            <p class="text-sm font-medium truncate">Colección vintage</p>
                            <p class="text-xs text-gray-500">245 fotos</p>
                        </div>
                        
                        <div>
                            <div class="relative pb-[100%] bg-gray-200 rounded-lg mb-1">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-video text-gray-400 text-2xl"></i>
                                </div>
                            </div>
                            <p class="text-sm font-medium truncate">Trucos con mecheros</p>
                            <p class="text-xs text-gray-500">12 videos</p>
                        </div>
                    </div>
                    
                    <button id="uploadMedia" class="w-full bg-blue-500 text-white py-3 rounded-lg flex items-center justify-center">
                        <i class="fas fa-upload mr-2"></i> Subir contenido
                    </button>
                </div>
            </div>
            
            <!-- Profile Tab -->
            <div id="profileTab" class="tab-content">
                <div class="bg-white rounded-xl shadow-sm p-4 mb-4">
                    <div class="flex items-center mb-4">
                        <div class="h-16 w-16 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium text-2xl mr-3">U</div>
                        <div>
                            <p class="font-bold text-lg">Usuario Actual</p>
                            <p class="text-gray-500">Miembro desde junio 2023</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-3 gap-2 text-center mb-4">
                        <div class="bg-gray-50 p-2 rounded-lg">
                            <p class="font-bold">12</p>
                            <p class="text-xs text-gray-500">Mecheros</p>
                        </div>
                        <div class="bg-gray-50 p-2 rounded-lg">
                            <p class="font-bold">47</p>
                            <p class="text-xs text-gray-500">Puntos</p>
                        </div>
                        <div class="bg-gray-50 p-2 rounded-lg">
                            <p class="font-bold">3</p>
                            <p class="text-xs text-gray-500">Rutas</p>
                        </div>
                    </div>
                    
                    <button id="editProfile" class="w-full border border-gray-300 py-2 rounded-lg mb-2">
                        Editar perfil
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-sm p-4">
                    <h2 class="text-lg font-semibold text-gray-800 mb-4">Opciones</h2>
                    
                    <div class="space-y-3">
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                <i class="fas fa-qrcode text-blue-500"></i>
                            </div>
                            <span>Gestionar mecheros</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                <i class="fas fa-hand-holding-usd text-green-500"></i>
                            </div>
                            <span>Donaciones</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-yellow-100 flex items-center justify-center mr-3">
                                <i class="fas fa-cookie text-yellow-500"></i>
                            </div>
                            <span>Configuración de cookies</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                <i class="fas fa-bell text-purple-500"></i>
                            </div>
                            <span>Notificaciones</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                                <i class="fas fa-file-alt text-red-500"></i>
                            </div>
                            <span>Términos y condiciones</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center mr-3">
                                <i class="fas fa-lock text-gray-500"></i>
                            </div>
                            <span>Privacidad</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3">
                                <i class="fas fa-volume-up text-indigo-500"></i>
                            </div>
                            <span>Sonido</span>
                        </button>
                        
                        <button class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50">
                            <div class="h-10 w-10 rounded-full bg-pink-100 flex items-center justify-center mr-3">
                                <i class="fas fa-language text-pink-500"></i>
                            </div>
                            <span>Idioma</span>
                        </button>
                        
                        <button id="logoutBtn" class="w-full text-left flex items-center p-2 rounded-lg hover:bg-gray-50 text-red-500">
                            <div class="h-10 w-10 rounded-full bg-red-100 flex items-center justify-center mr-3">
                                <i class="fas fa-sign-out-alt"></i>
                            </div>
                            <span>Cerrar sesión</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav bg-white border-t border-gray-200">
            <div class="container mx-auto px-4">
                <div class="flex justify-between">
                    <button data-tab="homeTab" class="tab-btn py-3 px-4 text-center text-blue-500">
                        <i class="fas fa-home block text-xl mb-1"></i>
                        <span class="text-xs">Inicio</span>
                    </button>
                    <button data-tab="mapTab" class="tab-btn py-3 px-4 text-center text-gray-500">
                        <i class="fas fa-map block text-xl mb-1"></i>
                        <span class="text-xs">Mapa</span>
                    </button>
                    <button data-tab="museumTab" class="tab-btn py-3 px-4 text-center text-gray-500">
                        <i class="fas fa-landmark block text-xl mb-1"></i>
                        <span class="text-xs">Museo</span>
                    </button>
                    <button data-tab="travelGuideTab" class="tab-btn py-3 px-4 text-center text-gray-500">
                        <i class="fas fa-umbrella-beach block text-xl mb-1"></i>
                        <span class="text-xs">Guía</span>
                    </button>
                    <button data-tab="profileTab" class="tab-btn py-3 px-4 text-center text-gray-500">
                        <i class="fas fa-user block text-xl mb-1"></i>
                        <span class="text-xs">Perfil</span>
                    </button>
                </div>
            </div>
        </nav>
    </div>

    <script>
        // Permisos iniciales
        document.addEventListener('DOMContentLoaded', function() {
            const permissionsModal = document.getElementById('permissionsModal');
            const grantPermissionsBtn = document.getElementById('grantPermissions');
            const denyPermissionsBtn = document.getElementById('denyPermissions');
            const authModal = document.getElementById('authModal');
            const app = document.getElementById('app');
            
            // Mostrar modal de permisos al cargar
            permissionsModal.classList.remove('hidden');
            
            // Aceptar permisos
            grantPermissionsBtn.addEventListener('click', function() {
                permissionsModal.classList.add('hidden');
                authModal.classList.remove('hidden');
            });
            
            // Denegar permisos
            denyPermissionsBtn.addEventListener('click', function() {
                permissionsModal.classList.add('hidden');
                authModal.classList.remove('hidden');
            });
            
            // Login con Google
            document.getElementById('googleLogin').addEventListener('click', function() {
                authModal.classList.add('hidden');
                app.classList.remove('hidden');
            });
            
            // Login con email
            document.getElementById('emailLogin').addEventListener('click', function() {
                authModal.classList.add('hidden');
                app.classList.remove('hidden');
            });
            
            // Cambiar a registro
            document.getElementById('switchToSignup').addEventListener('click', function() {
                // Aquí iría la lógica para cambiar a formulario de registro
                alert('Funcionalidad de registro no implementada en este demo');
            });
            
            // Navegación por pestañas
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Quitar active de todos los tabs y botones
                    document.querySelectorAll('.tab-content').forEach(tab => {
                        tab.classList.remove('active');
                    });
                    
                    tabButtons.forEach(btn => {
                        btn.classList.remove('text-blue-500');
                        btn.classList.add('text-gray-500');
                    });
                    
                    // Activar el tab seleccionado
                    document.getElementById(tabId).classList.add('active');
                    this.classList.remove('text-gray-500');
                    this.classList.add('text-blue-500');
                });
            });
            
            // Botones principales
            document.getElementById('scanQrBtn').addEventListener('click', function() {
                // Mostrar tab de QR
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                tabButtons.forEach(btn => {
                    btn.classList.remove('text-blue-500');
                    btn.classList.add('text-gray-500');
                });
                
                document.getElementById('qrTab').classList.add('active');
                // En un caso real, aquí activarías el botón correspondiente en el nav inferior
            });
            
            document.getElementById('viewMapBtn').addEventListener('click', function() {
                // Mostrar tab de Mapa
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                tabButtons.forEach(btn => {
                    btn.classList.remove('text-blue-500');
                    btn.classList.add('text-gray-500');
                });
                
                document.getElementById('mapTab').classList.add('active');
                document.querySelector('[data-tab="mapTab"]').classList.remove('text-gray-500');
                document.querySelector('[data-tab="mapTab"]').classList.add('text-blue-500');
            });
            
            document.getElementById('randomStoryBtn').addEventListener('click', function() {
                // Mostrar tab de Historia aleatoria
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                tabButtons.forEach(btn => {
                    btn.classList.remove('text-blue-500');
                    btn.classList.add('text-gray-500');
                });
                
                document.getElementById('randomStoryTab').classList.add('active');
            });
            
            document.getElementById('travelGuideBtn').addEventListener('click', function() {
                // Mostrar tab de Guía
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                tabButtons.forEach(btn => {
                    btn.classList.remove('text-blue-500');
                    btn.classList.add('text-gray-500');
                });
                
                document.getElementById('travelGuideTab').classList.add('active');
                document.querySelector('[data-tab="travelGuideTab"]').classList.remove('text-gray-500');
                document.querySelector('[data-tab="travelGuideTab"]').classList.add('text-blue-500');
            });
            
            // QR Scanner
            document.getElementById('startScanBtn').addEventListener('click', function() {
                const qrOverlay = document.querySelector('.qr-overlay');
                const scanResult = document.getElementById('scanResult');
                
                qrOverlay.classList.remove('hidden');
                
                // Simular escaneo después de 2 segundos
                setTimeout(function() {
                    qrOverlay.classList.add('hidden');
                    scanResult
</body>
</html>
